const Path=require("fire-path"),PlatfomSettigns=Editor.require("app://editor/share/build-platforms");module.exports={getAbsoluteBuildPath:t=>(Path.posix.isAbsolute(t)||Path.win32.isAbsolute(t)||(t=Path.join(Editor.projectInfo.path,t)),t),getOptions(t,e){t||(t=Editor.isMainProcess?Editor.Profile.load("profile://project/builder.json"):Editor.remote.Profile.load("profile://project/builder.json")),e||(e=Editor.isMainProcess?Editor.Profile.load("profile://local/builder.json"):Editor.remote.Profile.load("profile://local/builder.json"));let o=t.data,i=e.data,r=Object.assign({},o,i);return this.updateOptions(r),r},getCommonOptions:function(t){t||(t=this.getOptions());let e=Object.assign({},t);return delete e.keystorePath,delete e.keystorePassword,delete e.keystoreAlias,delete e.keystoreAliasPassword,e},updateOptions(t){let e=t.buildPath=this.getAbsoluteBuildPath(t.buildPath),o=Path.join(e,t.platform);PlatfomSettigns[t.platform].useTemplate&&(o=Path.join(e,"jsb-"+t.template)),t.dest=o}};
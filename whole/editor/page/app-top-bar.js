(()=>{"use strict";Polymer({is:"app-top-bar",properties:{previewURL:{value:"",type:String},connectedCount:{value:0,type:Number},transformTool:{type:String,value:"move",observer:"_transformToolChanged"},pivot:{type:String,value:"pivot",observer:"_pivotChanged"},coordinate:{type:String,value:"local",observer:"_coordinateChanged"}},ready(){Editor.Profile.load("profile://global/settings.json",(e,o)=>{if(this.wifiState="",Editor.isOffline)this.previewURL=Editor.T("EDITOR_MAIN.preview_offline"),this.wifiState="disabled";else{var i=o.data["local-ip"]||1,t=Editor.remote.IP;i>1&&(t=Editor.remote.IPList[i-2]),this.previewURL=`${t}:${Editor.remote.PreviewServer.previewPort}`,this.qrcode=new QRCode(this.$.qrcode,{width:150,height:150})}})},_onProject(){Editor.Ipc.sendToMain("app:explore-project")},_onApp(){Editor.Ipc.sendToMain("app:explore-app")},_showQrcode(){Editor.isOffline||(this.$.qrView.hidden=!1,this.qrcode.makeCode("http://"+this.previewURL))},_hideQrcode(){Editor.isOffline||(this.$.qrView.hidden=!0,this.qrcode.clear())},_T:e=>Editor.T(e),_transformToolChanged(e){_Scene.setTransformTool(e)},_pivotChanged(e){_Scene.setPivot(e)},_coordinateChanged(e){_Scene.setCoordinate(e)}})})();
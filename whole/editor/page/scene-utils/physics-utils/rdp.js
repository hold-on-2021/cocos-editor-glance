function findPerpendicularDistance(r,e,n){var t,a,i;return e.x===n.x?t=Math.abs(r.x-e.x):(a=(n.y-e.y)/(n.x-e.x),i=e.y-a*e.x,t=Math.abs(a*r.x-r.y+i)/Math.sqrt(Math.pow(a,2)+1)),t}function RDP(r,e){var n=r[0],t=r[r.length-1];if(r.length<3)return r;for(var a=-1,i=0,c=1;c<r.length-1;c++){var l=findPerpendicularDistance(r[c],n,t);l>i&&(i=l,a=c)}if(i>e){var s=r.slice(0,a+1),u=r.slice(a),x=RDP(s,e),h=RDP(u,e);return x.slice(0,x.length-1).concat(h)}return[n,t]}module.exports=RDP;
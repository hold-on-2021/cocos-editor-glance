"use strict";function _logError(e){console.log(Chalk.red(e))}const Electron=require("electron"),Path=require("fire-path"),Fs=require("fire-fs"),Globby=require("globby"),Chalk=require("chalk");module.exports=function(e,r,o){let t=[];t=Fs.isDirSync(e)?Globby.sync([Path.join(e,"**/*.js"),"!"+Path.join(e,"**/*.skip.js"),"!**/fixtures/**"]):[e];let i=new Editor.Window("__test__",{title:"Testing Renderer...",width:400,height:300,show:!1,resizable:!0});Editor.Window.main=i;const s=Electron.ipcMain;s.on("stdout:write",(e,...r)=>{process.stdout.write.apply(process.stdout,r)}),s.on("tap:error",(e,r)=>{_logError(r)}),s.on("tap:end",(e,t)=>{if(r.detail)return t&&i.openDevTools(),void 0;i.close(),o&&o(t)}),i.show(),i.load("editor-framework://lib/tester/renderer/index.html",{files:t,detail:r.detail,reporter:r.reporter})};